import{u as b,r as n,c as x,a as y,P as v,j as a,b as s,U as w,d as C,e as N}from"./index.61a5b7ca.js";import{u as k,l as j}from"./iconBG.2549e08d.js";const m="https://accessdb.blackgymfitclub.com/api/",S=m+"login",E=(o,t,i)=>{const l={username:o,password:t,idClub:i},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)};return fetch(S,c).then(r=>{if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);return r.json()}).catch(r=>{throw console.error("Error:",r),r})},T=m+"getClubes",U=()=>fetch(T,{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}).catch(t=>{throw console.error("Error:",t),t});function F(){const o=k(),t=b(),[i,l]=n.exports.useState(""),[c,r]=n.exports.useState(""),[d,g]=n.exports.useState("1"),[h,p]=n.exports.useState([]);n.exports.useEffect(()=>{x(w),o(y()),t(`/${v.LOGIN}`,{replace:!0})},[]);const f=async e=>{e.preventDefault();try{const u=await E(i,c,d);o(C({...u})),t(`/${N.PRIVATE}`,{replace:!0})}catch(u){console.error("Error de inicio de sesi\xF3n:",u)}};return a("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",onLoad:async()=>{try{const{data:e}=await U();p(e),console.log(e)}catch(e){console.error("Error:",e)}},children:[a("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[s("img",{className:"mx-auto h-16 w-auto",src:j,alt:"Your Company"}),s("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Bienvenido"})]}),s("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:a("form",{className:"space-y-6",children:[a("div",{children:[s("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900",children:"Usuario"}),s("div",{className:"mt-2",children:s("input",{id:"useranme",name:"username",type:"username",required:!0,value:i,onChange:e=>l(e.target.value),className:"block w-full pl-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),a("div",{children:[a("div",{className:"flex items-center justify-between",children:[s("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Contrase\xF1a"}),s("div",{className:"text-sm"})]}),s("div",{className:"mt-2",children:s("input",{id:"password",name:"password",type:"password",required:!0,onChange:e=>r(e.target.value),className:"block w-full pl-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring- ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),a("div",{children:[s("label",{htmlFor:"idClub",className:"block text-sm font-medium leading-6 text-gray-900",children:"Club"}),s("div",{className:"mt-2",children:a("select",{id:"idClub",name:"idClub",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:d,onChange:e=>g(e.target.value),children:[s("option",{value:"",children:"Selecciona una sucursal."}),h.map(e=>s("option",{value:e.idClub,children:e.nameClub},e.idClub))]})})]}),s("div",{children:s("button",{onClick:f,className:"flex w-full justify-center rounded-md bg-black px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Ingresar"})})]})})]})}export{F as default};
