import{S as E,u as A,r as t,c as P,a as I,d as L,P as h,j as s,b as a,i as T,U,e as j,f as D,s as O,g as R,h as B,A as G,k as M}from"./index.d88964ae.js";import{u as V,g as $}from"./clubes.service.1decb0dc.js";function K(){E.fire({toast:!0,title:"Cargando, por favor espere...",showConfirmButton:!1,position:"top-end",showCancelButton:!1,timer:2e3})}function J(){const r=V(),i=A(),[o,x]=t.exports.useState(""),[c,g]=t.exports.useState(""),[l,f]=t.exports.useState(0),[Y,b]=t.exports.useState(""),[v,y]=t.exports.useState(!1),[d,w]=t.exports.useState([]);t.exports.useLayoutEffect(()=>{P(U),r(I()),r(L()),i(`/${h.LOGIN}`,{replace:!0})},[]);const C=async()=>{if(!o||!c||!l){y(!0);return}try{const e=await j(o,c,l);K(),setTimeout(()=>{r(O({...{token:D}})),r(R({...e})),i(`/${B.PRIVATE}`,{replace:!0})},2e3)}catch(e){console.error("Error de inicio de sesi\xF3n:",e),b(e.message),G(e.message,!1)}},N=e=>{const u=e.target.value,p=parseInt(u),m=d.find(n=>n.idClub===p);if(m){f(p);const{idClub:n,nameClub:S,addressClub:F}=m;r(M({...{idClub:n,nameClub:S,addressClub:F}}))}else console.log("No se encontr\xF3 ning\xFAn club para el ID seleccionado")},k=async()=>{try{const{data:e}=await $();w(e)}catch(e){console.error("Error:",e)}};return t.exports.useEffect(()=>{k()},[]),s("div",{className:"bg-gray-100 flex flex-col justify-center sm:py-12 overflow-hidden h-screen",children:a("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[s("div",{className:"absolute inset-0 bg-gradient-to-r from-black to-white shadow-lg transform -skew-y-6 sm:skew-y-0 sm:-rotate-6 sm:rounded-3xl"}),s("div",{className:"relative px-4 py-10 bg-white shadow-lg sm:rounded-3xl sm:p-20",children:a("div",{className:"max-w-md mx-auto",children:[a("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[s("img",{className:"mx-auto h-24 w-auto",src:T,alt:"Your Company"}),s("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-black",children:"Bienvenido"})]}),s("div",{className:"divide-y divide-gray-200",children:a("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[a("div",{className:"relative",children:[s("input",{id:"username",value:o,onChange:e=>x(e.target.value),name:"username",type:"text",className:"peer placeholder-transparent h-10 w-full border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:borer-rose-600"}),s("label",{htmlFor:"username",className:"absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Usuario"})]}),a("div",{className:"relative",children:[s("input",{id:"password",onChange:e=>g(e.target.value),name:"password",type:"password",className:"peer placeholder-transparent h-10 w-full border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:borer-rose-600"}),s("label",{htmlFor:"password",className:"absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Contrase\xF1a"})]}),a("div",{className:"relative",children:[s("div",{className:"pt-2 pb-2",children:a("select",{id:"idClub",name:"idClub",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:l,onChange:N,children:[s("option",{value:"",children:"Selecciona una sucursal."}),d.map(e=>s("option",{value:e.idClub,children:e.nameClub},e.idClub))]})}),s("label",{htmlFor:"idClub",className:"absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Sucursal"})]}),v&&s("h1",{className:"text-red-600 text-xs",children:"Por favor, complete todos los campos."}),s("div",{className:"relative",children:s("button",{onClick:C,className:"flex w-full justify-center rounded-md bg-black px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Ingresar"})}),s("div",{className:"relative",children:s("a",{href:h.FORGOTPASS,className:"absolute left-4 -top-1 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm hover:text-indigo-500 hover:border-b",children:"Olvidaste tu contrase\xF1a?"})})]})})]})})]})})}export{J as default};
